#include "AppManager.h"
#include "OS.h"

namespace App 
{

namespace 
{
// ---------------------------------------------------------------------------------------------------------------------
    static void SigIntHandler(int) 
    {
        App::AppManager::Die();
    }

// ---------------------------------------------------------------------------------------------------------------------
    struct RegisterSigIntStruct
    {
        RegisterSigIntStruct()
        {
            RegisterSigInt(SigIntHandler);
        }

        ~RegisterSigIntStruct() = default;
    };

// ---------------------------------------------------------------------------------------------------------------------
    static const RegisterSigIntStruct rsi = { };
}

// AppManager // ------------------------------------------------------------------------------------------------------
AppManager::AppManager()
{ }

// Statics // ----------------------------------------------------------------------------------------------------------
volatile bool AppManager::m_AreWeAlive = true;
// ---------------------------------------------------------------------------------------------------------------------

// ---------------------------------------------------------------------------------------------------------------------
void AppManager::Die() 
{
    m_AreWeAlive = false;
}

};
